<div class="container-fluid">
  <%= render 'shared/menu' %>
</div>

<%=form_with url: tab_trabajadors_index_path, method: :get, local: true, class: 'd-flex justify-content-center' do%>
  <div class="d-flex align-items-center gap-1 mt-3">
    <%= label_tag :q, "Buscar:" %>
    <%= text_field_tag :q, @search_term, placeholder: "Ingrese cedula de identidad" %>
    <%= submit_tag "Buscar" %>
  </div>
<% end %>

<div class= "container-fluid mt-3"> 
  <% if @sidial.nil? %>
    <h3> Ingrese Cedula de Identidad</>
  <% else %>
    <div class="table-responsive">
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th scope="col">cedula</th>
            <th scope="col">Nombres</th>
            <th scope="col">Estatus de Cargo</th>
            <th scope="col">Tipo Personal</th>
            <th scope="col">Descripci√≥n</th>
            <th scope="col">Detalles</th>
          </tr>
        </thead>
        <tbody>
          <% @sidial.each do |trabajador| %>
            <tr>
              <td>
                <%= trabajador.ce_trabajador %>
              </td>
              <td>
                <%= trabajador.nombres %>
              </td>
              <td>
                <%= @desc_estatus[trabajador.edo_cargo] %>
              </td>
              <td>
                <p><%= trabajador.tipopersonal %></p>
                <p><%= trabajador.descripcion_tp %></p>
              </td>
              <td>
                <%= trabajador.descripcion_cargo %>
              </td>
              <td>
                <%= link_to 'Detalles', tab_trabajadors_show_path(id: trabajador.id) %>
              </td>
            </tr>
          <%end%>
        </tbody>
      </table>
    </div>
  <% end %>
</div>
